{"mappings":"sTAAO,MAAMA,EAIXC,YAAmBC,EAA+B,IAAIC,UAAnCD,QAAAA,OAHXE,OAA8B,IAAID,SAClCE,QAA+B,IAAIF,IAMzCG,SAASC,iBAAiB,WAHRC,GAAsBC,KAAKC,IAAIF,EAAGG,KAAM,IAGZC,KAAKH,OACnDH,SAASC,iBAAiB,SAHNC,GAAsBC,KAAKC,IAAIF,EAAGG,KAAM,IAGdC,KAAKH,OACnDH,SAASC,iBAAiB,YAHXC,GAAsBC,KAAKC,IAAIF,EAAGG,KAAM,GAAG,IAGdC,KAAKH,OAG5CI,IAAIF,GACT,MAAMG,EAAML,KAAKP,QAAQW,IAAIF,IAASA,EACtC,OAAOF,KAAKL,OAAOS,IAAIC,IAAQ,EAG1BJ,IAAIC,EAAcI,EAAeC,GAAO,GAC7C,MAAMF,EAAML,KAAKP,QAAQW,IAAIF,IAASA,EAClCK,GAAMP,KAAKJ,QAAQK,IAAII,EAAKC,GAChCN,KAAKL,OAAOM,IAAII,EAAKC,GAGhBC,KAAKL,GACV,MAAMG,EAAML,KAAKP,QAAQW,IAAIF,IAASA,EAChCM,EAAMR,KAAKL,OAAOS,IAAIC,GAI5B,OAHIG,GACFR,KAAKL,OAAOc,OAAOJ,GAEdK,QAAQF","sources":["src/utilities/inputs/Gamepad.ts"],"sourcesContent":["export class GamePad {\n  private inputs: Map<string, number> = new Map()\n  private strokes: Map<string, number> = new Map()\n\n  constructor(public aliases: Map<string, string> = new Map()) {\n    const register = (ev: KeyboardEvent) => this.set(ev.code, 1)\n    const unregister = (ev: KeyboardEvent) => this.set(ev.code, 0)\n    const onkey = (ev: KeyboardEvent) => this.set(ev.code, 1, true)\n    document.addEventListener(\"keydown\", register.bind(this))\n    document.addEventListener(\"keyup\", unregister.bind(this))\n    document.addEventListener(\"keypress\", onkey.bind(this))\n  }\n\n  public get(code: string): number {\n    const key = this.aliases.get(code) || code\n    return this.inputs.get(key) || 0\n  }\n\n  public set(code: string, value: number, once = false): void {\n    const key = this.aliases.get(code) || code\n    if (once) this.strokes.set(key, value)\n    this.inputs.set(key, value)\n  }\n\n  public once(code: string) {\n    const key = this.aliases.get(code) || code\n    const val = this.inputs.get(key)\n    if (val) {\n      this.inputs.delete(key)\n    }\n    return Boolean(val)\n  }\n}\n"],"names":["$e48eb54fb620a356$export$7ed60176d92aee6a","constructor","aliases","Map","inputs","strokes","document","addEventListener","ev","this","set","code","bind","get","key","value","once","val","delete","Boolean"],"version":3,"file":"Gamepad.0708ea14.js.map"}