function t(t,e,s,i){Object.defineProperty(t,e,{get:s,set:i,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire4d03;e.register("c8688",(function(s,i){var n;n=s.exports,Object.defineProperty(n,"__esModule",{value:!0,configurable:!0}),t(s.exports,"default",(()=>d));var h=e("V3qFZ"),o=e("dOAou"),a=e("2rTii"),r=e("jpCoW"),c=e("anjX6"),d=()=>{const t=c.default.paths.map((t=>new a.Path(t.segments.map((t=>t.map((([t,e])=>new r.Segment(t,e)))))))),e=new h.THREE.Scene,s=new h.THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);s.position.z=25,s.position.y=-8,s.rotation.x=.2*Math.PI;const i=new h.THREE.WebGLRenderer;i.setSize(window.innerWidth,window.innerHeight);const n=i.domElement;document.body.appendChild(n);const d=[];t.forEach((t=>{for(var s=0;s<40;s++){const s=new o.Mob(t);e.add(s.mesh),d.push(s)}t.forEach((t=>e.add(t.mesh)))}));const p=new h.THREE.Clock;!function h(){requestAnimationFrame(h),n.width===n.clientWidth&&n.height===n.clientHeight||(i.setSize(n.clientWidth,n.clientHeight,!1),s.aspect=n.clientWidth/n.clientHeight,s.updateProjectionMatrix());const o=.1*p.getElapsedTime()*Math.PI;s.position.set(10*Math.cos(o),10*Math.sin(o)-10,25),s.lookAt(0,0,0),i.render(e,s),t.forEach((t=>t.update())),d.forEach((t=>t.update()))}()}})),e.register("dOAou",(function(s,i){t(s.exports,"Mob",(()=>a));var n=e("9COFO"),h=e("V3qFZ");const o=new h.THREE.BoxGeometry;class a{constructor(t,e=0,s=0){this.path=t,this.x=e,this.y=s,this.speed=n.random(.05,.1,!0),this.targetIndex=0;const i=Math.round(this.speed/.1*255),a=Math.round(255-i/2),r=new h.THREE.MeshBasicMaterial({color:`rgba(${i}, ${a}, 0)`,opacity:.2});this.mesh=new h.THREE.Mesh(o,r),this.mesh.scale.set(.3,.3,.3),this.mesh.position.set(this.x,this.y,0)}update(){if(this.target||(this.targetIndex=0,this.changeTarget()),this.target){const{x:t,y:e}=this.target;t<this.x&&(this.x-=this.speed),t>this.x&&(this.x+=this.speed),e<this.y&&(this.y-=this.speed),e>this.y&&(this.y+=this.speed),this.target.isInRange(this.mesh,1.5*this.speed)&&this.changeTarget()}this.mesh.position.set(this.x,this.y,0),this.mesh.rotation.x+=this.speed,this.mesh.rotation.y+=this.speed}changeTarget(){this.target=this.path.getNext(this.targetIndex++),this.target||(this.targetIndex=0,this.target=this.path.getNext(this.targetIndex++))}}})),e.register("2rTii",(function(s,i){t(s.exports,"Path",(()=>h));var n=e("9COFO");e("jpCoW");class h{constructor(t=[]){this.segments=t}getNext(t){const e=this.segments[t];return e?e[n.random(e.length-1)]:null}forEach(t){this.segments.forEach((e=>e.forEach(t)))}update(){this.forEach((t=>t.update()))}}})),e.register("jpCoW",(function(s,i){t(s.exports,"Segment",(()=>a));var n=e("V3qFZ");const h=new n.THREE.RingGeometry,o=new n.THREE.MeshBasicMaterial({color:35071,opacity:.5});class a{constructor(t,e){this.x=t,this.y=e,this.clock=new n.THREE.Clock,this.mesh=new n.THREE.Mesh(h,o),this.mesh.scale.set(.2,.2,.02),this.mesh.position.x=t,this.mesh.position.y=e}isInRange(t,e=.1){return!!t?.position&&t.position.distanceTo(this.mesh.position)<e}update(){this.mesh.rotateZ(2),this.mesh.scale.y=.2+.02*Math.sin(10*this.clock.getElapsedTime())}}})),e.register("anjX6",(function(e,s){t(e.exports,"default",(()=>i));var i={paths:[{spawns:["monsterA","monsterB"],segments:[[[-4,0]],[[-3,-2],[-2,2],[-1,-2]],[[-1,-2]],[[0,1],[0,0]],[[3,2]],[[7,3]],[[3,4]],[[8,5]],[[3,6]]]},{spawns:["monsterA","monsterB"],segments:[[[-14,0]],[[-13,-2],[-12,2],[-11,-2]],[[-11,-2]],[[10,11],[10,10]],[[13,12]],[[17,13]],[[13,14]],[[18,15]],[[13,16]]]}]}}));
//# sourceMappingURL=tower-def.4cdb6e2a.js.map
