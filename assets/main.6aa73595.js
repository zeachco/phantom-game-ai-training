import{c as u}from"./dom.be162d4e.js";import{GamePad as b}from"./Gamepad.03157d0e.js";import{l as M,r as k}from"./math.7f2646da.js";import{GameLoop as R}from"./GameLoop.319731bb.js";const o=160,g=.1,s=100,B=async()=>{const i=u(),l=u();l.style.margin="100px",i.style.margin="100px",i.style.outlineStyle="dotted",l.style.outlineStyle="dotted",i.style.width=o+"px",i.style.height=o+"px";const n=new b(new Map,!1,l),t=l.getContext("2d"),r=i.getContext("2d");if(!t)throw new Error("no 2d context");let e=l.width=window.innerWidth,a=l.height=window.innerHeight;const S=new R;x();let[d,c,f]=[!1,0,0];var h=0;S.play((T,v)=>{t.font="120px monospace",t.fillStyle="rgba(230,230,230,0.1)",t.textBaseline="middle",t.textAlign="center",t.fillText(""+h,e/2,a/2),n.get("Mouse2")&&x(),n.get("Mouse0")&&!d&&(c=n.get("MouseX"),f=n.get("MouseY"),d=!0),d&&!n.get("Mouse0")&&(d=!1),d&&(t.beginPath(),r.beginPath(),t.strokeStyle="black",r.strokeStyle="black",t.lineWidth=10,r.lineWidth=1,t.moveTo(c,f),r.moveTo(c*g,f*g),c=n.get("MouseX"),f=n.get("MouseY"),t.lineTo(c,f),r.lineTo(c*g,f*g),t.stroke(),r.stroke());for(let y=0;y<10;y++){const m=M(0,e,y/10),w=k(0,1),p=w*s;t.lineWidth=1,t.fillStyle="rgba(255, 255, 255, .2)",t.fillRect(m,e-s/3,e/10,s/3),t.fillStyle=`hsla(${90-Math.round(w*45)}, 100%, 50%, .3)`,t.strokeStyle="rgba(0, 0, 0, 0.1)",t.fillRect(m+2,e-s/3+(s-p),e/10-4,p),t.strokeRect(m+2,e-s/3+(s-p),e/10-4,p),t.fillStyle="gray",t.font="10px Arial",t.textAlign="center",t.textBaseline="bottom",t.fillText(`${y}`,m+e/20,a)}});function x(){h++,h>9&&(h=0),e=l.width=o,a=l.height=o,i.width=e*g,i.height=a*g,t.fillStyle="gray",t.fillRect(0,0,e,a),t.fillStyle="white",t.fillRect(e/2-o/2,a/2-o/2,o,o)}};export{B as default};
